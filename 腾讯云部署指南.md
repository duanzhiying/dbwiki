# 腾讯云静态网站托管部署指南

## 概述

本指南将帮助你将MkDocs + Material主题的网站部署到腾讯云静态网站托管服务。

## 前置条件

- ✅ 腾讯云账号（已注册并实名认证）
- ✅ Gitee仓库（代码已上传）
- ✅ 本地环境（Python 3.9 + MkDocs）

## 部署步骤

### 第一步：开通腾讯云服务

1. **登录腾讯云控制台**
   - 访问：https://console.cloud.tencent.com/
   - 使用你的账号登录

2. **开通静态网站托管服务**
   - 搜索"静态网站托管"
   - 点击"立即开通"
   - 选择合适的地域（建议选择离你最近的）

### 第二步：创建存储桶

1. **创建存储桶**
   - 存储桶名称：`dbwiki-你的用户ID`
   - 地域：选择就近地域
   - 访问权限：公有读私有写

2. **配置静态网站**
   - 进入存储桶详情
   - 点击"基础配置" → "静态网站"
   - 启用静态网站功能

### 第三步：配置Git自动部署

1. **连接Gitee仓库**
   - 在静态网站托管页面
   - 选择"Git自动部署"
   - 仓库地址：`https://gitee.com/kidzying/dbwiki.git`
   - 分支：`main`

2. **配置构建环境**
   ```yaml
   # 构建命令
   python3 -m pip install -r requirements.txt && python3 -m mkdocs build --clean
   
   # 输出目录
   site/
   
   # Python版本
   3.9
   ```

3. **启用自动部署**
   - 选择触发分支：`main`
   - 启用自动部署
   - 保存配置

### 第四步：测试部署

1. **推送测试代码**
   ```bash
   # 在本地做一个小修改
   echo "# 测试部署" >> knowledge_base/index.md
   
   # 同步并提交
   python scripts/sync_docs.py
   git add .
   git commit -m "test: 测试腾讯云自动部署"
   git push gitee main
   ```

2. **检查部署状态**
   - 在腾讯云控制台查看构建日志
   - 等待构建完成
   - 访问生成的网站URL

## 网站功能确认

部署成功后，你的网站将包含：

### ✅ MkDocs功能
- 完整的文档导航
- 搜索功能
- 代码高亮
- 响应式设计

### ✅ Material主题功能
- 现代化UI设计
- 深色/浅色主题切换
- 移动端适配
- 快速导航

### ✅ 自定义功能
- 错误SQL点评模块
- 企业案例模块
- 避坑指南模块
- 实验示范模块
- 课设案例模块

## 访问网站

部署成功后，你将获得：

- **默认域名**：`https://你的存储桶名.cos-website.地域.myqcloud.com`
- **HTTPS支持**：自动配置SSL证书
- **国内访问**：稳定快速

## 常见问题

### Q: 构建失败怎么办？
A: 检查构建日志，常见问题：
- Python版本不匹配
- 依赖安装失败
- MkDocs配置错误

### Q: 网站无法访问？
A: 检查：
- 存储桶权限设置
- 静态网站配置
- 域名解析

### Q: 如何更新网站？
A: 直接推送代码到Gitee的main分支，腾讯云会自动：
1. 检测代码变更
2. 运行构建命令
3. 部署新版本

## 成本说明

- **存储费用**：免费额度50GB
- **流量费用**：免费额度10GB/月
- **请求费用**：免费额度100万次/月
- **总成本**：完全免费（在免费额度内）

## 技术支持

如遇问题，可以：
1. 查看腾讯云官方文档
2. 检查构建日志
3. 联系腾讯云技术支持

---

*最后更新：2025-09-05*
*维护者：kidzying*
